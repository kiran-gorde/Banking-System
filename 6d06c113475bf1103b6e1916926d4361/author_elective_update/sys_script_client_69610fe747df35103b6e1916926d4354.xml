<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script_client">
    <sys_script_client action="DELETE">
        <active>true</active>
        <applies_extended>false</applies_extended>
        <condition/>
        <description/>
        <field>state</field>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>new client script</name>
        <order/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
 var selectedState = g_form.getValue('state'); // Replace 'state_field' with the actual field name on your form
  alert(selectedState);
    var ga = new GlideAjax('MyAjaxProcessor');
    ga.addParam('sysparm_name', 'getUniqueCities');
    ga.addParam('sysparm_selected_state', selectedState);
    ga.getXML(onSuccess);
}
function onSuccess(response) {
    var uniqueCities = JSON.parse(response.responseXML.documentElement.getAttribute('answer'));
  
    var cityField = g_form.getControl('city'); // Replace 'city_field' with the actual field name on your form
    cityField.innerHTML = ''; // Clear existing options

    // Iterate through the unique cities and add them as options
    for (var cityKey in uniqueCities) {
        if (uniqueCities.hasOwnProperty(cityKey)) {
            var cityDetails = uniqueCities[cityKey];
            var cityDisplayName = cityKey.split('-')[1]; // Extract the city name from the key
            addOption(cityField, cityDisplayName, cityKey);
			alert(hiiii);
            var branchCode = cityDetails.branchCode;
            var pincode = cityDetails.pincode;
            var address = cityDetails.address;
			alert( branchCode+"  "+pincode);
        }
    }
}

function addOption(selectElement, text, value) {
    var option = document.createElement('option');
    option.text = text;
    option.value = value;
    selectElement.add(option, null);
}
      return;
   }

   //Type appropriate comment here, and begin script below
   
]]></script>
        <sys_class_name>sys_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-12-30 08:47:29</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>69610fe747df35103b6e1916926d4354</sys_id>
        <sys_mod_count>7</sys_mod_count>
        <sys_name>new client script</sys_name>
        <sys_overrides/>
        <sys_package display_value="Banking System" source="x_1129750_banking">6d06c113475bf1103b6e1916926d4361</sys_package>
        <sys_policy/>
        <sys_scope display_value="Banking System">6d06c113475bf1103b6e1916926d4361</sys_scope>
        <sys_update_name>sys_script_client_69610fe747df35103b6e1916926d4354</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-12-30 09:24:01</sys_updated_on>
        <table>x_1129750_banking_bank_account</table>
        <type>onChange</type>
        <ui_type>0</ui_type>
        <view/>
    </sys_script_client>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Banking System">6d06c113475bf1103b6e1916926d4361</application>
        <file_path/>
        <instance_id>7ab7235a1bffe9d8c84543f4bd4bcbc9</instance_id>
        <instance_name>dev179703</instance_name>
        <name>sys_script_client_69610fe747df35103b6e1916926d4354</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;state&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;new client script&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
 var selectedState = g_form.getValue('state'); // Replace 'state_field' with the actual field name on your form
  alert(selectedState);
    var ga = new GlideAjax('MyAjaxProcessor');
    ga.addParam('sysparm_name', 'getUniqueCities');
    ga.addParam('sysparm_selected_state', selectedState);
    ga.getXML(onSuccess);
}
function onSuccess(response) {
    var uniqueCities = JSON.parse(response.responseXML.documentElement.getAttribute('answer'));
  
    var cityField = g_form.getControl('city'); // Replace 'city_field' with the actual field name on your form
    cityField.innerHTML = ''; // Clear existing options

    // Iterate through the unique cities and add them as options
    for (var cityKey in uniqueCities) {
        if (uniqueCities.hasOwnProperty(cityKey)) {
            var cityDetails = uniqueCities[cityKey];
            var cityDisplayName = cityKey.split('-')[1]; // Extract the city name from the key
            addOption(cityField, cityDisplayName, cityKey);
			alert(hiiii);
            var branchCode = cityDetails.branchCode;
            var pincode = cityDetails.pincode;
            var address = cityDetails.address;
			alert( branchCode+"  "+pincode);
        }
    }
}

function addOption(selectElement, text, value) {
    var option = document.createElement('option');
    option.text = text;
    option.value = value;
    selectElement.add(option, null);
}
      return;
   }

   //Type appropriate comment here, and begin script below
   
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-12-30 08:47:29&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;69610fe747df35103b6e1916926d4354&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;new client script&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Banking System" source="x_1129750_banking"&gt;6d06c113475bf1103b6e1916926d4361&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Banking System"&gt;6d06c113475bf1103b6e1916926d4361&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_69610fe747df35103b6e1916926d4354&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-12-30 09:24:01&lt;/sys_updated_on&gt;&lt;table&gt;x_1129750_banking_bank_account&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
        <payload_hash>503070027</payload_hash>
        <record_name>new client script</record_name>
        <reverted_from/>
        <source>a906c113475bf1103b6e1916926d4363</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-12-30 09:24:01</sys_created_on>
        <sys_id>937a0fef47df35103b6e1916926d43f3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>18cba099e490000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-12-30 09:24:01</sys_updated_on>
        <type>Client Script</type>
        <update_guid>db7a0fef13df351048ff7d31357c0cf2</update_guid>
        <update_guid_history>db7a0fef13df351048ff7d31357c0cf2:503070027,d0e98befb1df351069a4c7e6b497c4e8:-702215582,3d5903ef1ddf3510007259498c8c4207:-1133949192,47094f6fcedf35108a92fc109d5a5b79:-2045025300,1fd7836f80df35103698b1bf551a8996:1091691969,21f60feba3df3510e21ea174ac3d5733:-585427313,b7c64fabbedf351011aa3fc7d7b615ca:-1883155471,d4228fa7dedf3510217689d5d8e4fed9:-548172517</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-12-31 07:46:19</sys_created_on>
        <sys_db_object display_value="" name="sys_script_client">sys_script_client</sys_db_object>
        <sys_id>494053b67e0a4e8ca6fc66809fe4a490</sys_id>
        <sys_metadata>69610fe747df35103b6e1916926d4354</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>new client script</sys_name>
        <sys_package display_value="Banking System" source="x_1129750_banking">6d06c113475bf1103b6e1916926d4361</sys_package>
        <sys_parent display_value="">49e6d553479bf1103b6e1916926d43ec</sys_parent>
        <sys_policy/>
        <sys_scope display_value="Banking System">6d06c113475bf1103b6e1916926d4361</sys_scope>
        <sys_scope_delete display_value="">46679e37a4c4432caad55ac9a3db3d10</sys_scope_delete>
        <sys_update_name>sys_script_client_69610fe747df35103b6e1916926d4354</sys_update_name>
        <sys_update_version display_value="sys_script_client_69610fe747df35103b6e1916926d4354">937a0fef47df35103b6e1916926d43f3</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-12-31 07:46:19</sys_updated_on>
    </sys_metadata_delete>
</record_update>
